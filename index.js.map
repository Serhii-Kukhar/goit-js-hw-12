{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\nimport axios from 'axios';\n\nconst instance = axios.create({\n    baseURL: 'https://pixabay.com/api/',\n});\nconst loader = document.querySelector('.loader')\nconst loadbtn = document.querySelector('.js-load-button')\n\nexport async function searchImage(searchimage) {\n    loader.style.display ='block';\n    try {\n        const res = await instance\n        .get('', { \n            params: { \n                key: '48800941-5fb7e609fca175f45db8152fa',\n                q: searchimage,\n                image_type: 'photo',\n                orientation: 'horizontal',\n                safesearch: 'true',\n            } \n        });\n        \n        if (res.data.hits.length === 0) {\n                throw new Error('No images found');  \n            }\n            return res.data;\n    }catch(error) {\n            console.error('API Error:', error);\n            throw error; \n        } finally {\n            loader.style.display = 'none';\n            loadbtn.style.display = 'block';\n\n        }\n        \n}\n\n","\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport const refs = {\n    formEl: document.querySelector('.js-image-form'),\n    imageEl: document.querySelector('.js-image-container'),\n};\n\nexport function imageTemplate(image) {\n    const { webformatURL, largeImageURL, tags, likes, views, comments, downloads } = image;\n    return `\n        <li class=\"gallery-item\">\n            <a href=\"${largeImageURL}\" class=\"gallery-link\">\n                <img class=\"image\" src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery-img\" width=\"360\"/>\n            </a>\n            <ul class=\"info-list\">\n                <li class=\"info-item\">\n                    <h4 class=\"info-title\">Likes</h4>\n                    <p class=\"info-descr\">${likes}</p>\n                </li>\n                <li class=\"info-item\">\n                    <h4 class=\"info-title\">Views</h4>\n                    <p class=\"info-descr\">${views}</p>\n                </li>\n                <li class=\"info-item\">\n                    <h4 class=\"info-title\">Comments</h4>\n                    <p class=\"info-descr\">${comments}</p>\n                </li>\n                <li class=\"info-item\">\n                    <h4 class=\"info-title\">Downloads</h4>\n                    <p class=\"info-descr\">${downloads}</p>\n                </li>\n            </ul>\n        </li>\n    `;\n}\n\nexport function imagesTemplate(images) {\n    return images.map(imageTemplate).join('');\n}\n\nexport function renderImages(images) {\n    const markup = imagesTemplate(images);\n    refs.imageEl.insertAdjacentHTML('beforeend', markup); \n    \n    const lightbox = new SimpleLightbox('.gallery-link', {\n        captionsData: 'alt',\n        captionDelay: 250,\n        \n    });\n    lightbox.refresh();\n}\n","\nimport { searchImage } from './js/pixabay-api';\nimport { renderImages, refs } from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nrefs.formEl.addEventListener('submit', async event => {\n    event.preventDefault();\n    \n\n    const searchQuery = event.target.elements.query.value.trim(); \n    \n\n    if (searchQuery === '') {\n        iziToast.show({\n            title: 'Warning!',\n            message: 'Please enter a search query.',\n            color: 'yellow',\n            position: 'topRight',\n            timeout: 3000,\n            progressBar: true,\n            close: true,\n            transitionIn: 'bounceInLeft',\n            transitionOut: 'fadeOutRight'\n        });\n        return;\n        \n    }\n\n\n    refs.imageEl.innerHTML = '';\n    event.target.elements.query.value = '';\n\n    try{\n        const data = await searchImage(searchQuery);\n            \n        if (data && data.hits) {\n            renderImages(data.hits);\n        }\n    } catch (error) {\n            \n            iziToast.show({\n                title: 'Error!',\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                color: 'red',\n                position: 'topRight',\n                timeout: 3000,\n                maxWidth: 300,\n                progressBar: true,\n                close: true,\n                transitionIn: 'bounceInLeft',\n                transitionOut: 'fadeOutRight'   \n                \n            });\n        }\n        \n});\n\n\n\n\n\n\n"],"names":["instance","axios","loader","loadbtn","searchImage","searchimage","res","error","refs","imageTemplate","image","webformatURL","largeImageURL","tags","likes","views","comments","downloads","imagesTemplate","images","renderImages","markup","SimpleLightbox","event","searchQuery","iziToast","data"],"mappings":"owBAGA,MAAMA,EAAWC,EAAM,OAAO,CAC1B,QAAS,0BACb,CAAC,EACKC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,iBAAiB,EAEjD,eAAeC,EAAYC,EAAa,CAC3CH,EAAO,MAAM,QAAS,QACtB,GAAI,CACA,MAAMI,EAAM,MAAMN,EACjB,IAAI,GAAI,CACL,OAAQ,CACJ,IAAK,qCACL,EAAGK,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACf,CACb,CAAS,EAED,GAAIC,EAAI,KAAK,KAAK,SAAW,EACrB,MAAM,IAAI,MAAM,iBAAiB,EAErC,OAAOA,EAAI,IAClB,OAAMC,EAAO,CACN,cAAQ,MAAM,aAAcA,CAAK,EAC3BA,CAClB,QAAkB,CACNL,EAAO,MAAM,QAAU,OACvBC,EAAQ,MAAM,QAAU,OAE3B,CAET,CChCO,MAAMK,EAAO,CAChB,OAAQ,SAAS,cAAc,gBAAgB,EAC/C,QAAS,SAAS,cAAc,qBAAqB,CACzD,EAEO,SAASC,EAAcC,EAAO,CACjC,KAAM,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,EAAGP,EACjF,MAAO;AAAA;AAAA,uBAEYE,CAAa;AAAA,0CACMD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,4CAKxBC,CAAK;AAAA;AAAA;AAAA;AAAA,4CAILC,CAAK;AAAA;AAAA;AAAA;AAAA,4CAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,4CAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,KAKrD,CAEO,SAASC,EAAeC,EAAQ,CACnC,OAAOA,EAAO,IAAIV,CAAa,EAAE,KAAK,EAAE,CAC5C,CAEO,SAASW,EAAaD,EAAQ,CACjC,MAAME,EAASH,EAAeC,CAAM,EACpCX,EAAK,QAAQ,mBAAmB,YAAaa,CAAM,EAElC,IAAIC,EAAe,gBAAiB,CACjD,aAAc,MACd,aAAc,GAEtB,CAAK,EACQ,QAAO,CACpB,CC9CAd,EAAK,OAAO,iBAAiB,SAAU,MAAMe,GAAS,CAClDA,EAAM,eAAc,EAGpB,MAAMC,EAAcD,EAAM,OAAO,SAAS,MAAM,MAAM,OAGtD,GAAIC,IAAgB,GAAI,CACpBC,EAAS,KAAK,CACV,MAAO,WACP,QAAS,+BACT,MAAO,SACP,SAAU,WACV,QAAS,IACT,YAAa,GACb,MAAO,GACP,aAAc,eACd,cAAe,cAC3B,CAAS,EACD,MAEH,CAGDjB,EAAK,QAAQ,UAAY,GACzBe,EAAM,OAAO,SAAS,MAAM,MAAQ,GAEpC,GAAG,CACC,MAAMG,EAAO,MAAMtB,EAAYoB,CAAW,EAEtCE,GAAQA,EAAK,MACbN,EAAaM,EAAK,IAAI,CAE7B,MAAe,CAERD,EAAS,KAAK,CACV,MAAO,SACP,QAAS,2EACT,MAAO,MACP,SAAU,WACV,QAAS,IACT,SAAU,IACV,YAAa,GACb,MAAO,GACP,aAAc,eACd,cAAe,cAE/B,CAAa,CACJ,CAET,CAAC"}